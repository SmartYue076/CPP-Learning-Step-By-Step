## 第二章 进程管理（如何实现多进程）

### 进程

运行中的程序（区别于未运行的静态程序），需要有数据结构保存当前运行的信息（PCB），便于切换不同进程

#### 进程的状态

<img src="../../img/process_state.png" alt="process_state" style="zoom:75%;" />

#### 进程的切换

操作系统切换进程（宏观）

<img src="../..//img/process.png" alt="process" style="zoom:50%;" />

操作系统切换进程的PCB（微观）

<img src="../../img/PCB_use.png" alt="PCB_use" style="zoom:50%;" />

### 线程

将资源和指令执行分开，进程为资源+指令执行序列。

**线程几乎不拥有资源（共享进程的资源），只实现指令的切换（PC指针，寄存器等）**，保留了并发的优点，避免了进程切换的代价（保留现场，切换PCB，切换内存映射表等）

操作系统无法看到用户级线程，进而无法分配硬件多核处理，只有通过内核级线程调用多核

### 补充知识

#### 多处理器和多核

多处理器：多套CPU，Cache，MMU（内存映射表）资源

多核：多个CPU，共用Cache和MMU

